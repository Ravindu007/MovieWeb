(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}(()=>{const e=s(860),{MongoClient:t}=s(13),i=e();let n;i.set("view engine","ejs"),i.set("views","./views"),i.use(e.static("public")),async function(){const e=new t("mongodb+srv://ravindu0504:Rs19980504@movies.xadynp2.mongodb.net/Movies?retryWrites=true&w=majority");await e.connect(),n=e.db(),i.listen(3e3)}(),i.get("/api/movies",(async(e,t)=>{const s=await n.collection("movieList").find().toArray();t.json(s)})),i.get("/admin",((e,t)=>{t.render("admin")}))})()})();